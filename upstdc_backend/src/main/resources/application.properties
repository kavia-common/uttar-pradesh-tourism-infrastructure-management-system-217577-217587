spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:upstdc;DB_CLOSE_DELAY=-1}
spring.datasource.driver-class-name=org.h2.Driver
# Ensure the app does not block waiting on external DB init; H2 fallback works fine for startup
spring.sql.init.mode=never

spring.h2.console.enabled=true
logging.level.root=INFO

# Bind to the port expected by the platform and listen on all interfaces for container exposure
server.port=${SERVER_PORT:3001}
server.address=0.0.0.0

# Enable actuator health endpoint for readiness/liveness checks
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true
management.server.port=${MANAGEMENT_SERVER_PORT:${SERVER_PORT:3001}}
management.server.address=0.0.0.0
management.endpoints.web.base-path=/actuator
